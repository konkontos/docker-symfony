<VirtualHost *:80>
ServerAdmin webmaster@localhost
DocumentRoot /var/www/${SYMFONY}/${SYMFONY_APP_PUBLIC_FOLDER}

ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined

IndexOptions
DirectoryIndex app.php index.php index.html

RewriteEngine on

SSLEngine on
SSLCertificateFile /etc/ssl/symfonyapp/cert.pem
SSLCertificateKeyFile /etc/ssl/symfonyapp/privkey.pem
SSLCertificateChainFile /etc/ssl/symfonyapp/chain.pem

<Directory /var/www/${SYMFONY}/${SYMFONY_APP_PUBLIC_FOLDER}>
    Order allow,deny
    Allow from all
    Require all granted
    DirectoryIndex app.php index.php index.html
    IndexOptions

    <IfModule mod_rewrite.c>
        Options -MultiViews
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^(.*)$ index.php [QSA,L]
    </IfModule>

</Directory>

</VirtualHost>

